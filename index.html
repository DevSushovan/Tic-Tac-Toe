<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tic Tac Toe â€” Colorful Edition (With Sound, Timer, Best-of-N)</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <canvas id="confetti-canvas"></canvas>

  <div class="app">
    <header class="app-header">
      <h1>ðŸŽ® Tic Tac Toe</h1>
      <p class="tagline">PvP / PvC â€¢ Difficulty â€¢ Sound â€¢ Timer â€¢ Best-of-N</p>
    </header>

    <section class="control-panel">
      <div class="mode-group">
        <label class="group-label">Mode</label>
        <div class="segmented">
          <input type="radio" id="mode-pvp" name="mode" value="pvp" />
          <label for="mode-pvp">Player vs Player</label>

          <input type="radio" id="mode-pvc" name="mode" value="pvc" checked />
          <label for="mode-pvc">Player vs Computer</label>
        </div>
      </div>

      <div class="difficulty-group" id="difficulty-group">
        <label class="group-label">Difficulty</label>
        <div class="segmented">
          <input type="radio" id="diff-easy" name="difficulty" value="easy" />
          <label for="diff-easy">Easy</label>

          <input type="radio" id="diff-normal" name="difficulty" value="normal" checked />
          <label for="diff-normal">Normal</label>

          <input type="radio" id="diff-hard" name="difficulty" value="hard" />
          <label for="diff-hard">Hard</label>
        </div>
      </div>

      <div class="player-symbols">
        <label class="group-label">You play as</label>
        <div class="segmented">
          <input type="radio" id="play-x" name="symbol" value="X" checked />
          <label for="play-x">X</label>
          <input type="radio" id="play-o" name="symbol" value="O" />
          <label for="play-o">O</label>
        </div>
      </div>

      <div class="timer-controls">
        <label class="group-label">Timer (sec / move)</label>
        <div style="display:flex; gap:8px; align-items:center;">
          <input id="timer-enable" type="checkbox" />
          <label for="timer-enable" style="opacity:.9; color:#fff;">Enable</label>
          <input id="timer-length" type="number" min="3" max="120" value="15" style="width:72px; padding:6px; border-radius:8px;" />
        </div>
      </div>

      <div class="series-controls">
        <label class="group-label">Best of</label>
        <select id="best-of">
          <option value="1">1</option>
          <option value="3" selected>3</option>
          <option value="5">5</option>
          <option value="7">7</option>
        </select>
        <div style="margin-top:8px;">
          <button id="reset-series" class="btn tiny ghost">Reset Series</button>
        </div>
      </div>

      <div class="sound-controls">
        <label class="group-label">Sound</label>
        <div style="display:flex; gap:8px; align-items:center;">
          <button id="sound-toggle" class="btn tiny">Sound: On</button>
        </div>
      </div>

      <div class="buttons" style="grid-column: span 3;">
        <button id="new-game" class="btn primary">New Game</button>
        <button id="reset-score" class="btn ghost">Reset Score</button>
        <button id="undo-move" class="btn ghost">Undo</button>
      </div>
    </section>

    <main class="game-area">
      <div class="board" id="board" role="grid" aria-label="Tic Tac Toe board">
        <button class="cell" data-index="0" aria-label="Cell 1"></button>
        <button class="cell" data-index="1" aria-label="Cell 2"></button>
        <button class="cell" data-index="2" aria-label="Cell 3"></button>
        <button class="cell" data-index="3" aria-label="Cell 4"></button>
        <button class="cell" data-index="4" aria-label="Cell 5"></button>
        <button class="cell" data-index="5" aria-label="Cell 6"></button>
        <button class="cell" data-index="6" aria-label="Cell 7"></button>
        <button class="cell" data-index="7" aria-label="Cell 8"></button>
        <button class="cell" data-index="8" aria-label="Cell 9"></button>
        <div id="win-line"></div>
      </div>

      <aside class="sidebar">
        <div class="status" id="status">Your move: X <span id="timer-display" style="float:right; opacity:.95"></span></div>

        <div class="scoreboard">
          <h3>Scoreboard</h3>
          <div class="scores">
            <div class="score">
              <span>Player X</span>
              <strong id="score-x">0</strong>
            </div>
            <div class="score">
              <span>Draws</span>
              <strong id="score-d">0</strong>
            </div>
            <div class="score">
              <span>Player O</span>
              <strong id="score-o">0</strong>
            </div>
          </div>
        </div>

        <div class="seriesboard">
          <h3>Series</h3>
          <div style="display:flex; gap:8px; justify-content:space-between; align-items:center;">
            <div style="text-align:left;">
              <div style="font-weight:700">Best of: <span id="series-best">3</span></div>
              <div style="font-size:13px; opacity:.9">First to <span id="series-target">2</span> wins</div>
            </div>
            <div style="text-align:right;">
              <div>âœ” X: <strong id="series-x">0</strong></div>
              <div>âœ” O: <strong id="series-o">0</strong></div>
            </div>
          </div>
        </div>

        <div class="history">
          <h3>Move History</h3>
          <ol id="history-list" class="history-list"></ol>
        </div>
      </aside>
    </main>

    <footer class="app-footer">
      <span>Made colorful âœ¨ with pure HTML/CSS/JS</span>
      <button id="theme-toggle" class="btn tiny">Toggle Theme</button>
    </footer>
  </div>

  <div id="celebration" class="celebration hidden" aria-live="polite">
    <div class="celebration-card">
      <h2 id="celebration-title">You Win! ðŸŽ‰</h2>
      <p id="celebration-sub">Awesome game!</p>
      <button id="celebration-close" class="btn primary">Play Again</button>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
